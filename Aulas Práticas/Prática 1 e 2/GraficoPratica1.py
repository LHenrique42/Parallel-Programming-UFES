
import matplotlib.pyplot as plt
import matplotlib.patches as mpatches
import matplotlib as mpl
import numpy as np


VersaoOriginal = [
[0.0026240000, 0.0026110000, 0.0020330000, 0.0017390000, 0.0016320000, 0.0016340000, 0.0014990000, 0.0014080000, 0.0013790000, 0.0013780000, 0.0013740000, 0.0013940000, 0.0013070000, 0.0013150000, 0.0013060000, 0.0013180000, 0.0013050000, 0.0013020000, 0.0012440000, 0.0012550000, 0.0012430000, 0.0012530000, 0.0012430000, 0.0012430000, 0.0011890000, 0.0011960000, 0.0011880000, 0.0011980000, 0.0011880000, 0.0012090000],
[0.0102940000, 0.0098910000, 0.0095920000, 0.0092550000, 0.0090040000, 0.0087340000, 0.0070100000, 0.0066540000, 0.0065980000, 0.0066040000, 0.0066290000, 0.0065960000, 0.0066080000, 0.0066470000, 0.0066970000, 0.0068480000, 0.0069250000, 0.0068000000, 0.0065730000, 0.0066420000, 0.0067260000, 0.0065900000, 0.0066580000, 0.0066580000, 0.0065720000, 0.0065720000, 0.0067260000, 0.0066370000, 0.0065950000, 0.0068120000],
[0.0284450000, 0.0282330000, 0.0279220000, 0.0282100000, 0.0280270000, 0.0279680000, 0.0278130000, 0.0282340000, 0.0279060000, 0.0278740000, 0.0282380000, 0.0283100000, 0.0279160000, 0.0278520000, 0.0277950000, 0.0281770000, 0.0279150000, 0.0278540000, 0.0278700000, 0.0281720000, 0.0279040000, 0.0279530000, 0.0279120000, 0.0282550000, 0.0282070000, 0.0279260000, 0.0278910000, 0.0282180000, 0.0287720000, 0.0279380000],
[0.1287500000, 0.1274420000, 0.1276500000, 0.1275920000, 0.1277780000, 0.1275700000, 0.1279150000, 0.1283130000, 0.1274230000, 0.1275010000, 0.1273110000, 0.1271650000, 0.1271210000, 0.1273740000, 0.1281120000, 0.1279060000, 0.1271740000, 0.1273930000, 0.1275580000, 0.1273460000, 0.1271310000, 0.1273020000, 0.1275310000, 0.1283460000, 0.1271060000, 0.1273860000, 0.1272180000, 0.1273240000, 0.1277020000, 0.1275410000],
[0.5207960000, 0.5108730000, 0.5195920000, 0.5184940000, 0.5049720000, 0.5090400000, 0.5014660000, 0.5045460000, 0.5131420000, 0.5106380000, 0.5002740000, 0.5056500000, 0.5034430000, 0.5016850000, 0.5063730000, 0.5078560000, 0.5119340000, 0.5071430000, 0.5060020000, 0.5022300000, 0.5056650000, 0.5120530000, 0.5098540000, 0.5115970000, 0.4950060000, 0.4952080000, 0.5194090000, 0.5159780000, 0.5592810000, 0.5248380000]]

Versao1 = [
[0.0010180000, 0.0010100000, 0.0010120000, 0.0010030000, 0.0010130000, 0.0010020000, 0.0010030000, 0.0010030000, 0.0010030000, 0.0010020000, 0.0010090000, 0.0011040000, 0.0010070000, 0.0010090000, 0.0009970000, 0.0010050000, 0.0009980000, 0.0010000000, 0.0010050000, 0.0010490000, 0.0010570000, 0.0009980000, 0.0010060000, 0.0009980000, 0.0010120000, 0.0011140000, 0.0009980000, 0.0010130000, 0.0010000000, 0.0010090000],
[0.0372430000, 0.0367940000, 0.0363010000, 0.0362630000, 0.0367280000, 0.0363440000, 0.0362140000, 0.0364720000, 0.0362900000, 0.0363570000, 0.0367800000, 0.0366540000, 0.0363800000, 0.0365380000, 0.0363030000, 0.0366410000, 0.0366690000, 0.0362860000, 0.0362210000, 0.0366200000, 0.0362700000, 0.0360710000, 0.0367120000, 0.0364230000, 0.0362510000, 0.0372220000, 0.0365810000, 0.0363460000, 0.0368930000, 0.0362320000],
[0.1378860000, 0.1370120000, 0.1368500000, 0.1375800000, 0.1370820000, 0.1373940000, 0.1380370000, 0.1372750000, 0.1375700000, 0.1371730000, 0.1375270000, 0.1372970000, 0.1376240000, 0.1375260000, 0.1386410000, 0.1372160000, 0.1378290000, 0.1378820000, 0.1373080000, 0.1380480000, 0.1375940000, 0.1376770000, 0.1382580000, 0.1372570000, 0.1374570000, 0.1373560000, 0.1374410000, 0.1372600000, 0.1374540000, 0.1378950000],
[0.6488260000, 0.6485690000, 0.6477400000, 0.6485750000, 0.6475400000, 0.6494870000, 0.6479240000, 0.6500470000, 0.6478010000, 0.6485530000, 0.6488890000, 0.6493870000, 0.6477440000, 0.6675810000, 0.6676160000, 0.6607140000, 0.6575520000, 0.6565860000, 0.6585110000, 0.6585430000, 0.6928010000, 0.6571230000, 0.6518920000, 0.6567850000, 0.6552890000, 0.6736330000, 0.6569440000, 0.6581480000, 0.6777070000, 0.6568190000],
[2.4004940000, 2.3805890000, 2.3864790000, 2.3783230000, 2.3652460000, 2.4456840000, 2.3591070000, 2.4184630000, 2.3630170000, 2.3569490000, 2.5411820000, 2.4733170000, 2.3821340000, 2.3837240000, 2.3326360000, 2.3351980000, 2.4095770000, 2.8355930000, 2.3297090000, 2.3553360000, 2.4561570000, 2.3708780000, 2.4109870000, 2.3523390000, 2.3735300000, 2.4146550000, 2.3860260000, 2.3973670000, 2.3301830000, 2.3757800000]
]

Versao2 = [
[0.0009610000, 0.0009580000, 0.0010180000, 0.0009280000, 0.0009840000, 0.0009230000, 0.0009680000, 0.0010320000, 0.0010270000, 0.0009820000, 0.0009680000, 0.0010120000, 0.0009060000, 0.0009180000, 0.0009150000, 0.0009850000, 0.0009780000, 0.0010040000, 0.0010770000, 0.0010140000, 0.0009700000, 0.0009180000, 0.0010470000, 0.0010010000, 0.0010240000, 0.0009030000, 0.0009540000, 0.0009200000, 0.0009130000, 0.0009380000],
[0.0097930000, 0.0104120000, 0.0098150000, 0.0096210000, 0.0097160000, 0.0099840000, 0.0101250000, 0.0096380000, 0.0096580000, 0.0096630000, 0.0096470000, 0.0096380000, 0.0096560000, 0.0096060000, 0.0096950000, 0.0099600000, 0.0098140000, 0.0096740000, 0.0097060000, 0.0096730000, 0.0097520000, 0.0096620000, 0.0096770000, 0.0096850000, 0.0096710000, 0.0097920000, 0.0098030000, 0.0097870000, 0.0097070000, 0.0095910000],
[0.0440990000, 0.0439910000, 0.0435270000, 0.0434810000, 0.0439810000, 0.0438090000, 0.0435400000, 0.0437610000, 0.0435420000, 0.0436140000, 0.0440200000, 0.0435290000, 0.0434410000, 0.0438210000, 0.0433590000, 0.0438040000, 0.0439140000, 0.0445810000, 0.0435910000, 0.0443850000, 0.0436140000, 0.0435470000, 0.0439290000, 0.0434690000, 0.0433640000, 0.0438380000, 0.0436100000, 0.0434750000, 0.0439770000, 0.0435620000],
[0.3057210000, 0.3082290000, 0.3048790000, 0.3047750000, 0.3054000000, 0.3076930000, 0.3149090000, 0.3137840000, 0.3113040000, 0.3114400000, 0.3062240000, 0.3105860000, 0.3062700000, 0.3169040000, 0.3082580000, 0.3137720000, 0.3090040000, 0.3122700000, 0.3050340000, 0.3110680000, 0.3064670000, 0.3104680000, 0.3071770000, 0.3104120000, 0.3098570000, 0.3055770000, 0.3050760000, 0.3041100000, 0.3032440000, 0.3048630000],
[2.9922230000, 2.9955530000, 2.9854460000, 2.9176550000, 2.9272820000, 3.0059050000, 3.0139930000, 2.9836660000, 2.9673240000, 3.0013380000, 2.9331170000, 2.9390530000, 2.8989410000, 2.9450420000, 2.9465230000, 3.0010620000, 2.9844740000, 2.9693330000, 2.9093380000, 2.9717820000, 2.9246220000, 2.9731760000, 3.0041480000, 3.0110250000, 2.9922520000, 2.9145520000, 2.9934820000, 2.9250570000, 2.9632210000, 2.9235980000]
]

#Versao3 = [
#[0.0013600000, 0.0013670000, 0.0013630000, 0.0013620000, 0.0013700000, 0.0013450000, 0.0013720000, 0.0013480000, 0.0013650000, 0.0013450000, 0.0013860000, 0.0014330000, 0.0013420000, 0.0013560000, 0.0013360000, 0.0013530000, 0.0013560000, 0.0013500000, 0.0013970000, 0.0013490000, 0.0013740000, 0.0013860000, 0.0013520000, 0.0014090000, 0.0013940000, 0.0014160000, 0.0014020000, 0.0013520000, 0.0013910000, 0.0013510000],
#[0.0108300000, 0.0108380000, 0.0107320000, 0.0107900000, 0.0107110000, 0.0107630000, 0.0107140000, 0.0107510000, 0.0107360000, 0.0112220000, 0.0113080000, 0.0109920000, 0.0110140000, 0.0107460000, 0.0111220000, 0.0109370000, 0.0108730000, 0.0106810000, 0.0107230000, 0.0107270000, 0.0109150000, 0.0109400000, 0.0109900000, 0.0109540000, 0.0108840000, 0.0109520000, 0.0107270000, 0.0108440000, 0.0108430000, 0.0108210000],
#[0.0381670000, 0.0376760000, 0.0382640000, 0.0378630000, 0.0389090000, 0.0376760000, 0.0387950000, 0.0383800000, 0.0396700000, 0.0381620000, 0.0382190000, 0.0382430000, 0.0390060000, 0.0383350000, 0.0386000000, 0.0383630000, 0.0382350000, 0.0385630000, 0.0379670000, 0.0384820000, 0.0383100000, 0.0380400000, 0.0381430000, 0.0381560000, 0.0382690000, 0.0382290000, 0.0380970000, 0.0382060000, 0.0380470000, 0.0379380000],
#[0.1833910000, 0.1815950000, 0.1811860000, 0.1825350000, 0.1797620000, 0.1831350000, 0.1837050000, 0.1831280000, 0.1786130000, 0.1873710000, 0.1779840000, 0.1845290000, 0.2511190000, 0.1843690000, 0.1803490000, 0.1771370000, 0.1840240000, 0.1947090000, 0.2013620000, 0.1971680000, 0.1852430000, 0.1860590000, 0.1822130000, 0.1806470000, 0.1795330000, 0.1795160000, 0.1798900000, 0.1845220000, 0.1842050000, 0.1812380000]
#]


mediaVersaoOriginal = []
stdVersaoOriginal = []
mediaVersao1 = []
stdVersao1 = []

mediaVersao2 = []
stdVersao2 = []
mediaVersao3 = []
stdVersao3 = []

for i in range(5):
	mediaVersaoOriginal.append(np.mean(VersaoOriginal[i]))
	stdVersaoOriginal.append(np.std(VersaoOriginal[i]))
	mediaVersao1.append(np.mean(Versao1[i]))
	stdVersao1.append(np.std(Versao1[i]))

	mediaVersao2.append(np.mean(Versao2[i]))
	stdVersao2.append(np.std(Versao2[i]))
	##mediaVersao3.append(np.mean(Versao3[i]))
	##stdVersao3.append(np.std(Versao3[i]))

fig = plt.figure(figsize=(10,5))
ax1 = fig.add_subplot(111)


## Média e desvio padrão ##

plt.errorbar(np.array(range(len(mediaVersaoOriginal)))*2, mediaVersaoOriginal, stdVersaoOriginal,label=r'Versão 1 com -O3', color='#1F77B4', fmt='o', lw=1, capsize=4, markersize=8, markeredgecolor='#1F77B4', markerfacecolor='#8FBBD9')
plt.plot(np.array(range(len(mediaVersaoOriginal)))*2, mediaVersaoOriginal, color='#1F77B4',lw=2)

plt.errorbar(np.array(range(len(mediaVersao1)))*2, mediaVersao1, stdVersao1,label=r'Versão 1 sem -O3', color='#D62728', fmt='s', lw=1, capsize=4, markersize=8, markeredgecolor='#D62728', markerfacecolor='#EA9393')
plt.plot(np.array(range(len(mediaVersao1)))*2, mediaVersao1, color='#D62728',lw=2)


plt.errorbar(np.array(range(len(mediaVersao2)))*2, mediaVersao2, stdVersao2,label=r'Versão 2 com -O3', color='#2CA02C', fmt='v', lw=1, capsize=4, markersize=8, markeredgecolor='#2CA02C', markerfacecolor='#95CF95')
plt.plot(np.array(range(len(mediaVersao2)))*2, mediaVersao2, color='#2CA02C',lw=2)

# plt.errorbar(np.array(range(len(mediaVersao3)))*2, mediaVersao3, stdVersao3,label=r'Versão 3', color='#FF7F0E', fmt='D', lw=1, capsize=4, markersize=8, markeredgecolor='#FF7F0E', markerfacecolor='#FFBF86')
# plt.plot(np.array(range(len(mediaVersao3)))*2, mediaVersao3, color='#FF7F0E',lw=2)



ax1.yaxis.grid(True, linestyle='-', linewidth=0.5, which='major', color='lightgrey',alpha=1.0)
# ax1.xaxis.grid(True, linestyle='-', linewidth=0.5, which='major', color='lightgrey',alpha=1.0)

fontSize=12

ax1.set_axisbelow(True)
# ax1.set_title('Titulo', fontsize=fontSize+3, fontweight='bold')
ax1.set_xlabel(r'Tamanho matriz', fontsize=fontSize+2)
ax1.set_ylabel('Tempo médio (em seg)', fontsize=fontSize+2)
ax1.xaxis.set_label_coords(0.5, -0.08)
ax1.set_facecolor('white')


handles, labels = ax1.get_legend_handles_labels()
leg = ax1.legend(handles, labels, bbox_to_anchor=(0.01, 0.98), loc=2, borderaxespad=0., fontsize=fontSize)
leg.get_frame().set_facecolor('#FFFFFF')
# plt.legend(title=r'Compilador')




ticks = ['100', '200', '300', '500', '700']
plt.xticks(range(0, len(ticks)*2, 2), ticks, fontsize=fontSize)
plt.yticks(fontsize=fontSize)
plt.xlim(-1, len(ticks)*2-1)
#plt.ylim(-10, 40)


plt.tight_layout()
# plt.show()

plt.savefig('GraficoPratica1.pdf',bbox_inches='tight')
